$(document).ready(function(){function e(){this.navClicked=!1,this.homeOpen=!0;var e=$(".gallery_sections"),a=$(".gallery_images"),n=$(".gallery_nav_mask"),t=$(".gallery_nav"),o=$(".gallery_nav_icon"),l=$(".gallery_spinner"),i=a.find("img"),s=function(){var e=t.find("li"),a=0;return $(".gallery_nav_wrapper").find("li").each(function(){var e=$(this);a+=e.outerWidth()}),a},r=function(e){var a,n=this,t={},o=$(".gallery_images"),l=""+e;null!==t[l]?$.get(e).done(function(i){var s=$(i);a=s.find(".gallery_images div"),t[""+e]=a,$images=o.html("").append(t[l]).hide().find("img"),o.imagesLoaded().done(function(){TweenMax.set($images,{autoAlpha:0,yPercent:"50%"}),TweenMax.set(o,{display:"block"}),TweenMax.staggerTo($images,1,{autoAlpha:1,yPercent:"0%",force3D:!0,ease:Power4.easeOut,onComplete:function(){u()}},.1)}),o.lightGallery({controls:!0,thumbnail:!0,preload:4,cssEasing:"ease-in-out",speed:600}),n.navClicked===!1&&c()}):(console.log("Yes Buddy"),o.html("").append(t[l]),n.navClicked===!1&&c()),c()},c=function(){TweenMax.to(e,1,{xPercent:"-100%",ease:Expo.easeOut}),TweenMax.to(a,1,{xPercent:"-100%",ease:Expo.easeOut})},p=function(){TweenMax.set(n,{autoAlpha:0,display:"block"}),setTimeout(function(){TweenMax.to(n,2,{autoAlpha:1})},600),TweenMax.set(t,{display:"block"}),$(".gallery_nav_wrapper").width(s()+100),g()},h=function(){TweenMax.to(e,1,{xPercent:"0%",ease:Expo.easeOut}),TweenMax.to(a,1,{xPercent:"-0%",ease:Expo.easeOut})},g=function(){var e=e||new IScroll(".gallery_nav_mask",{scrollX:!0,scrollY:!1,mousewheel:!0,click:!0})},u=function(){var e=$(".spinner").remove();l.hasClass("show")&&TweenMax.to(l,.6,{className:"-=show"})},d=function(e,a){this.navClicked=a===!0?!0:!1;var n=$('<svg version="1.1" class="spinner" xmlns="http://www.w3.org/2000/svg"xmlns:xlink="http://www.w3.org/1999/xlink"x="0px"y="0px"viewBox="0 0 80 80"xml:space="preserve"> <path id="spinner"fill="#fff"d="M40,72C22.4,72,8,57.6,8,40C8,22.4, 22.4,8,40,8c17.6,0,32,14.4,32,32c0,1.1-0.9,2-2,2 s-2-0.9-2-2c0-15.4-12.6-28-28-28S12,24.6,12,40s12.6, 28,28,28c1.1,0,2,0.9,2,2S41.1,72,40,72z"> <animateTransform attributeType="xml"attributeName="transform"type="rotate"from="0 40 40"to="360 40 40"dur="0.6s"repeatCount="indefinite"/> </path> </svg>'),t=$(".spinner").remove();this.navClicked?l.html("").addClass("show").append(n):e.append(n)};return p(),{showSpinner:d,loadImages:r,goBack:h}}var a=$(".menu"),n=!1,t=function(){function e(){n.timeScale(1),n.play()}function a(){n.timeScale(3),n.reverse()}var n=new TimelineMax({yoyo:!0,paused:!0}),t=$(".nav_wrapper"),o=t.outerHeight(),l=t.find(".nav-list").find("li"),i=$(".header");return totalFromTop=i.height()+2*parseInt(i.css("margin-top")),TweenMax.set(t,{top:totalFromTop+"px"}),n.set(t,{autoAlpha:1,height:0,display:"block"}).set(l,{autoAlpha:0}).to(t,.5,{height:o,force3D:!0,ease:Expo.easeOut}).staggerFromTo(l,.8,{autoAlpha:0,yPercent:"100%",scale:1.025,force3D:!0},{autoAlpha:1,yPercent:"0%",force3D:!0,scale:1,ease:Back.easeOut},.2),{show:e,hide:a}}();a.on("click",function(){n===!1?t.show():t.hide(),n=!n});var o=function(){var e,a=location.hash?location.hash.slice(1):"";if(a.length>0&&(e=$("."+a)).length>0){var n=e.offset().top;TweenMax.to(window,2,{scrollTo:{y:n},force3D:!0,ease:Expo.easeOut})}},l=$(".pageNav_item");l.on("click",function(e){var a=$(this);location.hash=a.attr("href"),o(),e.preventDefault()}),window.addEventListener("hashchange",o);var i=$(".btt");i.on("click",function(){TweenMax.to(window,2,{scrollTo:{y:0},force3D:!0,ease:Expo.easeOut})}),galleryNavIcon=$(".gallery_nav_icon"),galleryNavIcon.on("click",function(){r.goBack()});var s=$(".gallery_sections").find(".item"),r=s.length>0?new e:"";s.on("click",function(){var e=$(this);r.showSpinner(e,!1),r.loadImages(e.data("href"))});var c=$(".gallery_nav").find("li");c.on("click",function(e){var a=$(this),n=a.find("a").attr("href"),t=$(".gallery_images");a.hasClass("gallery_nav_icon")||(c.removeClass("active"),a.addClass("active"),r.showSpinner(a,!0),r.loadImages(n)),e.preventDefault()}),singleGalleryPage=$(".gallery_shift"),singleGalleryPage.length>0&&(TweenMax.to(".gallery_sections",1,{xPercent:"-100%",ease:Expo.easeOut}),TweenMax.to(".gallery_images",1,{xPercent:"-100%",ease:Expo.easeOut}))});